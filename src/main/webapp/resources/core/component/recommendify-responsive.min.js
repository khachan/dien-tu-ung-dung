(function(){String.prototype.format=function(){for(var c=this,b=arguments.length;b--;)c=c.replace(new RegExp("\\{"+b+"\\}","gm"),arguments[b]);return c};var g={callbackCounter:0,fetch:function(c,b){var d="JSONPCallback_"+this.callbackCounter++;window[d]=this.evalJSONP(b);c=c.replace("=JSONPCallback","="+d);d=document.createElement("SCRIPT");d.src=c;document.getElementsByTagName("HEAD")[0].appendChild(d)},evalJSONP:function(c){return function(b){c(b)}}},q=function(c,b){var d=document.createElement("script");
d.type="text/javascript";d.readyState?d.onreadystatechange=function(){if("loaded"==d.readyState||"complete"==d.readyState)d.onreadystatechange=null,b()}:d.onload=function(){b()};d.src=c;document.getElementsByTagName("head")[0].appendChild(d)},s=function(c){var b=function(a,b,c){var e;"string"!=typeof b&&(c=b,b=null);var d="<"+a;for(e in c)!1!==c[e]&&(d+=" "+e+'="'+c[e]+'"');return d+(b?">"+b+"</"+a+">":"/>")},d=function(a){return b("span",a,{"class":"recommendify_compare_price"})},s=function(a){return b("span",
a,{"class":"recommendify_current_price"})},t=function(a){return b("span",a,{"class":"recommendify_reduced_percent"})},u=function(a,c){return b("div",a,{"class":"recommendify_section recommendify_group "+c})},q=function(a,c,v){var e;e=b("h3",a.settings.panel_title,{"class":"recommendify_panel_heading"});e=b("div",e,{"class":"recommendify_col recommendify_span_"+c+"_of_"+c});e=u(e,"recommendify-panel-title");var h="",r,m,k,f,n,p;for(p=0;p<c;p++)if(a.products.length>p){r=a.products[p].image;m=a.products[p].vendor;
k=a.products[p].title;f=a.products[p];n=a.settings;var g=void 0,l=void 0,q=void 0,g=n.currency_symbol+f.price;null!=f.compare_at_price&&f.compare_at_price!=f.price&&"0.00"!=f.compare_at_price&&(l=n.currency_symbol+f.compare_at_price);n.show_reduction&&null!=f.reduced_by_percent&&(q="SAVE "+f.reduced_by_percent+"%");f=null!=f.compare_at_price&&n.show_from_to?"{0} {1} {2} {3} {4}".format(n.from_field,d(l),n.to_field,s(g),t(q)):"{0} {1} {2}".format(d(l),s(g),t(q));n="{0}/clickcatcher/{1}/?type={2}".format("https://www.recommendifyapp.com",
a.products[p].id,v);r=b("div",{"class":"recommendify_product_image",style:"height:"+a.settings.image_height+"px;background:url("+r+");background-size:contain;background-repeat:no-repeat;background-position:center;"});r=b("a",r,{href:n,"class":"recommendify_hyperlink"});a.settings.show_vendor?(m=b("p",m,{}),m=b("div",m,{"class":"recommendify_product_vendor"})):m="";m=r+m;k=b("p",k,{});k=b("div",k,{"class":"recommendify_product_title"});k=m+k;a.settings.show_price?(f=b("p",f,{}),f=b("div",f,{"class":"recommendify_product_price"})):
f="";k=b("div",k+f,{"class":"recommendify_col recommendify_span_1_of_"+c});h+=k}a=u(h,"recommendify-panel-body");return e+a},l=function(a,b,d){if(0!=b.products.length){if(0==b.settings.strip_css){var e="{0}/static/css/recommendify-responsive-grid.min.css".format("https://www.recommendifyapp.com");document.createStyleSheet?document.createStyleSheet(e):c('<link rel="stylesheet" type="text/css" href="'+e+'" />').appendTo("head")}e=b.settings.panel_type.slice(-1);c(a).html(q(b,e,d))}},w=function(a,b,
c,d,h){switch(h){case "similar":a="{0}/embed/json/similar/{1}/{2}/?callback=JSONPCallback".format("https://www.recommendifyapp.com",a,b);g.fetch(a,function(a){l("#recommendify-similar-products",a,"similar")});break;case "cart":a="{0}/embed/json/cart/{1}/{2}/?callback=JSONPCallback".format("https://www.recommendifyapp.com",a,c);g.fetch(a,function(a){l("#recommendify-cart",a,"cart")});break;case "top":a="{0}/embed/json/top/{1}/?callback=JSONPCallback".format("https://www.recommendifyapp.com",a);g.fetch(a,
function(a){l("#recommendify-top-sellers",a,"top")});break;case "recent":a="{0}/embed/json/recent/{1}/{2}?callback=JSONPCallback".format("https://www.recommendifyapp.com",a,b);g.fetch(a,function(a){l("#recommendify-recent-products",a,"recent")});break;case "custom":a="{0}/embed/json/custom/{1}/{2}/?callback=JSONPCallback".format("https://www.recommendifyapp.com",a,b);g.fetch(a,function(a){l("#recommendify-custom-products",a,"custom")});break;case "buyagain":a="{0}/embed/json/buyagain/{1}/{2}/?callback=JSONPCallback".format("https://www.recommendifyapp.com",
a,d),console.log(a),g.fetch(a,function(a){l("#recommendify-buy-again",a,"buyagain")})}};(function(){var a,b,d,e,h,g=[["#recommendify-similar-products","similar"],["#recommendify-cart","cart"],["#recommendify-top-sellers","top"],["#recommendify-recent-products","recent"],["#recommendify-custom-products","custom"],["#recommendify-buy-again","buyagain"]];for(h=0;h<g.length;h++)a=c(g[h][0]),a.length&&(b=a.attr("shop"),d=a.attr("product"),e=a.attr("cart"),a=a.attr("customer"),w(b,d,e,a,g[h][1]));a=c("#recommendify-product-view");
a.length&&(b=a.attr("shop"),d=a.attr("product"),c.ajax({type:"GET",url:"https://www.recommendifyapp.com/embed/json/productview/"+b+"/"+d+"/",crossDomain:!0,contentType:"application/json; charset=utf-8",dataType:"jsonp",jsonpCallback:"productViewEventCallback"}))})()};"undefined"===typeof jQuery||1.7>parseFloat(jQuery.fn.jquery)?q("//code.jquery.com/jquery-1.11.1.min.js",function(){var c=jQuery.noConflict(!0);s(c)}):s(jQuery)})();
